
# GraphQL

## 目的
 - RESTのより深い理解
 - GatsbyにおけるGraphQLの理解
 
## GraphQLとは
 - クエリ言語とスキーマ言語からなるWeb APIの規格
   - クエリ: リクエストのための言語。query, mutation, subscribeの3種類のクエリがある
   - スキーマ: APIの仕様を記述するための言語。
 - 特徴
   - レスポンスに含まれるデータの指定が必須であること
   - クエリとレスポンスの構造がよく似ていること

## GraphQL vs REST
 - GraphQLはレスポンスのフィールドを明示的に指定する
   - RESTの場合はクエリパラメータなどを使うしかない。
   - これによりRESTは設計がクライアントサイドの仕様に依存しやすかったが、GraphQLはその問題を解消している
 - GraphQLはキャッシュが最適化されている
   - RESTはパス単位でキャッシュする
   - GraphQLはオブジェクト単位でキャッシュする
 - GraphQLには型がある
 - GraphQLは開発者体験が改善されている
   - 補完・型チェック

### RESTの問題点
 - オブジェクトのグラフ構造とAPIレスポンス構造に乖離が生まれがち
   - GraphQLはクエリとレスポンス構造に対応関係があり、解消できる
 - 設計が難しい
   - GraphQLではスキーマ言語に沿って設計すれば良い

## RESTの優位性
 - 処理系を実装するのが簡単
   - パス間の処理系が疎結合になるため
